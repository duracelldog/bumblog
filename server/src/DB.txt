USE bumblog;

DROP TABLE board;
DROP TABLE user;

-- START SQL ---------------------------------------------------------------- 



-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- user Table Create SQL
CREATE TABLE user
(
    `id`        INT             NOT NULL    AUTO_INCREMENT, 
    `email`     VARCHAR(100)    NOT NULL, 
    `password`  VARCHAR(100)    NOT NULL, 
    `name`      VARCHAR(100)    NOT NULL, 
    `admin`     TINYINT         NOT NULL, 
    PRIMARY KEY (id)
);


-- user Table Create SQL
CREATE TABLE board
(
    `id`                  INT              NOT NULL    AUTO_INCREMENT, 
    `title`               VARCHAR(200)     NOT NULL, 
    `tags`                VARCHAR(200)     NOT NULL, 
    `contents`            VARCHAR(3000)    NOT NULL, 
    `userId`              INT              NOT NULL, 
    `t_originalFileName`  VARCHAR(100)     NULL, 
    `t_uploadFileName`    VARCHAR(100)     NULL, 
    `c_originalFileName`  VARCHAR(100)     NULL, 
    `c_uploadFileName`    VARCHAR(100)     NULL, 
    `createdAt`           TIMESTAMP        NULL, 
    `updatedAt`           TIMESTAMP        NULL, 
    PRIMARY KEY (id)
);

ALTER TABLE board
    ADD CONSTRAINT FK_board_userId_user_id FOREIGN KEY (userId)
        REFERENCES user (id) ON DELETE RESTRICT ON UPDATE RESTRICT;







-- END SQL ---------------------------------------------------------------- 

insert into user(email, password, name, admin) values('tlsqjarms@gmail.com', '1234', '신범근', 1);
insert into user(email, password, name, admin) values('bkshin@gmail.com', '1234', '신범근', 0);

insert into board(title, tags, contents, userId, createdAt, updatedAt) values(
    '블로그를 만들기로 결심했다.',
    '공부,개발,생각',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero ducimus quidem sapiente neque earum. Maxime adipisci ea accusantium totam error officiis at velit animi, atque excepturi exercitationem cupiditate incidunt placeat?',
    1,
    NOW(),
    NOW()
);

insert into board(title, tags, contents, userId, createdAt, updatedAt) values(
    '프론트엔드 개발의 목표',
    '개발,생각',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero ducimus quidem sapiente neque earum. Maxime adipisci ea accusantium totam error officiis at velit animi, atque excepturi exercitationem cupiditate incidunt placeat?',
    1,
    NOW(),
    NOW()
);

insert into board(title, tags, contents, userId, createdAt, updatedAt) values(
    '번들러란 무엇인가?',
    '개발',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero ducimus quidem sapiente neque earum. Maxime adipisci ea accusantium totam error officiis at velit animi, atque excepturi exercitationem cupiditate incidunt placeat?',
    1,
    NOW(),
    NOW()
);

insert into board(title, tags, contents, userId, createdAt, updatedAt) values(
    'Heroku 호스팅을 이용하는 방법',
    '생각',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero ducimus quidem sapiente neque earum. Maxime adipisci ea accusantium totam error officiis at velit animi, atque excepturi exercitationem cupiditate incidunt placeat?',
    1,
    NOW(),
    NOW()
);


